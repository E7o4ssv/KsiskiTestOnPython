Код написан студентом университета РосБиоТех Кабановым Данилой Андреевичем 

Задание:
Нижеследующий шифр получен с помощью алгоритма Виженера. Известно, что алфавит русский - 33 буквы, занумерованные от 0 до 32. Длина
ключа неизвестна.
Вычислить длину ключа. Используйте для этого тест Казисского.

ТЕКСТ
хли зщэрёмежв аърьц тгеуюпц шл кёцъвьшзиёф пгщюдиь, к юю зкэизёчю ьнъ мшчлл ёофл дпчиаф чющщглах уюыщчечц ьмиэъаруцс выянеюй пкчшс ыпщгъ. ыъпйщнчах ыоьочмюуч пжуэюйж пмгн, рпгу юмй щювчью гдю н еьшж пщщй вёвз. ме ьцюякч: “вчмлз иорйчпш рчх. к нёцъек м шгпщц вщк цюдшк, яьцжз а всоеёх. гицф рщщк вёвз вёьююьэ гдзшжз вкшгеж, ълч мжуёофр як шгей уюдют, ж ц нлцк энмб оъйъ. пэйа щщю ыщэрчшрр шпчщб хлкьшз, э ъкдс ймъз ыщчб, а шл ыйщш аип. н йхлък ицяхчп, юаёф пмгн мсыпю нёнлцьш”. э ыйушж ицъаччф ме шлигщщжгьк, нёощэг оню вкшгпхл, ж жщчмюуч а дпдмв. шъ ыйщ мщгу пач вроеёб иччщэ. ыщгъ гкнмошфич тлкьэфйч зюм, ещ ыоёчъйокчю. зщэрёмежв ъъвёгрй в оракгцг, а ъьгыцъеац рз ыщэрчэз мыущ жя хлкепх. с ыпнспхф ятцъ рзу нюзуллйк: ымюпьрщщнюйж эмшщх очоф мйбл вёьююйж эочтя вщк цюдшк, ж ёлнжеуюъ зщэрёмежвк н екцзлаврпймр мйхлёчэзпц оъпйкнюйж цюдшф лё оракгцю екдйч вррщпьртф энёьъя. ёшл мжюэрацл окхя кьгъи, ыщэрчцл иччрлу, у юсй ср гъщ “эйквлзещ” яоёшфйч. “кб, ичхлэ ц шрсвцйечй”, эичтлйч оракгцю. “ещ щжопом, щппъ щ чрцвп ъпйкчпц пег ёофл вкшгеж, ф ме ъъвихлеьэ, цювщх еь й пмиэлйч”. ыъпйщнчахя лаврбё шр миэлачцъпу, хли ыщэрчэз жя чрцвк гдзшжз вкшгеж, ымвкуюйж рбё мэгд ъьжиююпймяьруш, ж жщоюиуюъ ыщчб. дщьюгж фпйщьжа: пэйа мж нёълйа м мгямжуёощсх ьфркквжх, шлзыуюг зпдгеур, иёэъоёп щжвэъ мй млп еп твьэ

Этот код содержит две функции: kasiski_test и find_key_length, и блок кода, который применяет эти функции к введенному пользователем зашифрованному тексту. Ниже я объясню, что делает каждый из этих блоков кода.

Первая функция, kasiski_test, принимает зашифрованный текст и длину n-граммы (по умолчанию равную 4) и возвращает список расстояний между повторяющимися n-граммами в зашифрованном тексте.

Создается пустой словарь ngram_to_indices, который будет хранить n-граммы в качестве ключей и индексы, в которых они встречаются в зашифрованном тексте, в качестве значений.
Для каждой позиции i в зашифрованном тексте, начиная с 0 и заканчивая len(ciphertext) - ngram_length + 1, где ngram_length - длина n-граммы, извлекается n-грамма из текста, начиная с i и длиной n-граммы.
Если n-грамма уже присутствует в словаре ngram_to_indices, то текущий индекс i добавляется в список уже существующих индексов для этой n-граммы. В противном случае, создается новая запись в словаре с ключом, равным текущей n-грамме, и значением, равным списку, содержащему только текущий индекс i.
Создается пустой список distances, который будет хранить расстояния между повторяющимися n-граммами.
Для каждой n-граммы и соответствующего списка индексов из словаря ngram_to_indices:
a. Если количество индексов в списке больше одного, то для каждой пары последовательных индексов в списке вычисляется расстояние между ними и добавляется в список distances.
Возвращается список расстояний distances.

Вторая функция, find_key_length, принимает список расстояний между повторяющимися n-граммами и возвращает длину ключа, используемого для шифрования зашифрованного текста.

Создается пустой список gcds, который будет хранить все общие делители расстояний между повторяющимися n-граммами.
Для каждой пары расстояний в списке distances, начиная с первого расстояния и до предпоследнего:
a. Для каждой последующей пары расстояний
b. Находится наибольший общий делитель (НОД) между текущей парой расстояний с помощью функции math.gcd.
c. Если НОД больше единицы, то он добавляется в список gcds.

Если список gcds пуст, то функция возвращает None, иначе возвращает самый часто встречающийся элемент в списке gcds с помощью функций set и max (таким образом, если есть несколько НОД, которые встречаются одинаково часто, то функция вернет любой из них).
Код после этих двух функций запрашивает у пользователя зашифрованный текст и применяет функцию kasiski_test для нахождения расстояний между повторяющимися n-граммами в тексте, а затем применяет функцию find_key_length для нахождения длины ключа, используемого для шифрования этого текста. Результат выводится на экран. Перед вводом зашифрованного текста выводится сообщение, напоминающее пользователю удалить все знаки препинания и пробелы из текста для корректной работы программы.

Результат выполнение программы выдаст ответ: 4
